## Setting up

Install *lutline* in your Python environment, preferably in a virtualenv.

    $ pip install lutline

## Generating a parser
Create a `spec.py` file. (More details [here](specfile.html))

    $ cat spec.py
    spec = [
      ['opt', [['f', 'f'],
               ['a', 'fout']]
      ],
      ['a', 'fin']
    ]

The `cli.py` module can be generated using the *lutline* command-line tool as
follows (see its USAGE message for more information).

    $ ls
    main.py  spec.py
    $ lutline spec.py
    $ ls
    cli.py  main.py  spec.py

## Using the parser
The `cli.py` file comprises a look-up table specifically tailored to the
specification provided by the `spec.py` file, and a function to match the
`argv` array against the LUT. The cli implemented can now be tested directly or
through the main application.

    $ python cli.py hello.txt
    {'fin': 'hello.txt'}
    $ python cli.py -f bye.txt hello.txt
    {'-f': 'f', 'fout': 'bye.txt', 'fin': 'hello.txt'}
    $ python cli.py --this-option-is-unknown
    usage: ./superapp [-f <fout>] <fin>

Or you can use the parser from your application.

    $ cat main.py
    import cli

    def main():
      args = cli.parse()
      # (...)

    if __name__ == "__main__":
      main()

## Detaching
The file generated by *lutline*, `cli.py`, only requires the `sys` module
provided by Python itself (in order to grab the `argv` array). This means that
from the moment said file is generated, *lutline* is no longer required in the
developers system. Basically, *lutline* is a development-time dependency, as
opposed to a compilation or runtime dependency.

If a virtual environmet is used, detaching *lutline* is easy to achieve.

    $ virtualenv env
    $ source env/bin/activate
    (env)$ pip install lutline
    (env)$ lutline spec.py
    (env)$ deactivate
    $ rm -r env
    # "python main.py" or "python cli.py" still works fine ;)

<br>

If you want to found out more about the inner-problems solved by *lutline*,
than following this link:

* [The problem of parsing a command-line](problem.html)

<br>
